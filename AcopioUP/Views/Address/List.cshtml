@model IEnumerable<AcopioUP.Models.Address>
@{
    ViewBag.Title = "List";
}

<h2>Centros de Acopio</h2>

@if (!Model.Any())
{
    <p>No hay Centros de acopio agregados aun</p>
}
<p>
    @Html.ActionLink("Agregar Dirección", "New", "Address", null, new { @class = "btn btn-primary", @style = "margin-bottom: 10px" })
</p>



@{
    var total = Model.Count();
    var cardsPerRow = 4;
}
@for (var i = 0; i < total;)
{
    <div class="card-deck">
        @for (var j = 0; j < cardsPerRow && i < total; j++, i++)
        {
            var collector = Model.ElementAt(i);
            <div class="card">
                <img class="card-img-top"
                     src="https://maps.googleapis.com/maps/api/staticmap?center=@collector.Lat,@collector.Long&zoom=14&size=282x198&maptype=roadmap&markers=@collector.Lat,@collector.Long&key=AIzaSyB2dQPK3V1LjJu_-cTTeV-9qTyPEfsEynw"
                     alt="Image">
                <div class="card-body">
                    <h4 class="card-title">@collector.Id</h4>
                    <p class="card-text">@collector.StreetAddress</p>
                    <div class="card-footer">
                        <div style="text-align: center;">
                            <small class="text-muted">@Html.ActionLink("Editar", "Edit", "Address", new { @id = collector.Id }, new { @class = "btn btn-info" })</small>
                        </div>
                    </div>
                </div>
            </div>

        }
        
        @if (i >= total && total % cardsPerRow !=0 && total>cardsPerRow)
        {
            for (var j = 0; j <= total % cardsPerRow; j++)
            {
                <div style="border-color: transparent;" class="card">
                    <img class="card-img-top"
                         alt="">
                    <div class="card-body">
                        <h4 class="card-title"></h4>
                        <p class="card-text"></p>
                    </div>
                </div>
            }
        }
    </div>
    <br />
}